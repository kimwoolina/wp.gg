{% extends "base.html" %}
{% load static %}
{% block title %}매칭 결과{% endblock title %}

{% block content %}
    <h2>나에게 꼭 맞는 유저 찾기 결과</h2>

    <div id="matching-result">
        <!-- 결과 표시할 영역 -->
    </div>

{% endblock content %}

{% block javascript %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // URL에서 결과 데이터 가져오기
        const urlParams = new URLSearchParams(window.location.search);
        const result = urlParams.get('result');
        const matchingResult = document.getElementById('matching-result');

        if (result) {
            const users = JSON.parse(result);
            if (users.length > 0) {
                users.forEach(user => {
                    const userElement = document.createElement('div');
                    userElement.classList.add('user-card');
                    userElement.innerHTML = `
                        <h3>${user.username}</h3>
                        <p>티어: ${user.riot_tier}</p>
                        <p>포지션: ${user.position}</p>
                        <!-- 다른 유저 정보도 추가 -->
                    `;
                    matchingResult.appendChild(userElement);
                });
            } else {
                matchingResult.innerHTML = '<p>매칭된 유저가 없습니다.</p>';
            }
        } else {
            matchingResult.innerHTML = '<p>매칭 결과를 불러오지 못했습니다.</p>';
        }
    });
</script>
{% endblock javascript %}
